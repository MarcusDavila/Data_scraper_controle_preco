import schedule
import time
from monitor import monitor

print("üì¶ Iniciando monitor de pre√ßos com schedule...")

# Agenda a fun√ß√£o para rodar a cada 30 minutos
schedule.every(30).minutes.do(monitor)

# Executa imediatamente na inicializa√ß√£o (opcional) 
monitor()

# Loop principal
try:
    while True:
        schedule.run_pending()
        time.sleep(1)
except KeyboardInterrupt:
    print("üõë Execu√ß√£o interrompida pelo usu√°rio.")
except Exception as e:
    print(f"‚ö†Ô∏è Erro inesperado: {e}")